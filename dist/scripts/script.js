var app=angular.module("portfolio",["ngMaterial","ngAnimate","ui.router","ngSanitize","firebase"]);app.factory("$toast",function(){return function(e){$("#toast").toggleClass("animate").children("#toastText").text(e),setTimeout(function(){$("#toast").toggleClass("animate")},6e3)}}).run(["$rootScope","$state","$stateParams","$location","$anchorScroll","$animate","$toast",function(e,t,o,a,n,r,s){function c(){document.querySelector("#sideNav").className="mobile",document.querySelector("#overlay").className="mobile fadeOut",setTimeout(function(){document.querySelector("#overlay").className="mobile"},300)}e.$state=t;var i={apiKey:"AIzaSyDgRVMrL_IWFsr6fYn-xpMKFaQ27Mc12tw",authDomain:"abdelelmedny.firebaseapp.com",databaseURL:"https://abdelelmedny.firebaseio.com",storageBucket:"project-3122023172084139285.appspot.com"};firebase.initializeApp(i),e.database=firebase.database().ref(),e.$on("$stateChangeStart",function(t,o,a,s,i,l){c(),"preview"==o.name?(n("top"),r.enabled(!1),u(),e.resetNavColors()):r.enabled(!0),"preview"==s.name&&u()}),e.$on("$stateChangeError",function(e){t.go("404")}),e.$on("$stateNotFound",function(e){t.go("404")}),$("iframe").on("click",function(){});var l=!1,u=function(){return l||(document.querySelector("#rotateAble").className="animate",document.querySelector(".line:nth-of-type(2)").className+=" animate",document.querySelector(".line:nth-of-type(1)").className+=" animate",document.querySelector(".line:nth-of-type(3)").className+=" animate"),l&&(document.querySelector("#rotateAble").className="",document.querySelector(".line:nth-of-type(2)").className="line",document.querySelector(".line:nth-of-type(1)").className="line",document.querySelector(".line:nth-of-type(3)").className="line"),l=!l};document.getElementById("rotateAble").addEventListener("click",function(){l?t.go("projects"):(document.querySelector("#sideNav").className+=" show",document.querySelector("#overlay").className+=" show")}),document.querySelector("#overlay").addEventListener("click",function(){c()}),$(".card").on("touchstart",function(){alert("ur touching me ;)")})}]).config(["$stateProvider","$urlRouterProvider","$mdThemingProvider","$sceProvider","$locationProvider",function(e,t,o,a,n){o.theme("default").primaryPalette("blue").accentPalette("amber"),a.enabled(!1),t.otherwise("/"),e.state("projects",{url:"/",templateUrl:"pages/projects.html",data:{pageTitle:"Projects"},onEnter:function(){$("nav").removeClass("slideUp"),setTimeout(function(){})},controller:"mainCtrl"}).state("preview",{url:"/preview/{projectName}",templateUrl:"pages/preview.html",data:{pageTitle:"Preview"},controller:"previewCtrl",onEnter:function(){$("md-progress-linear").addClass("preview"),$("nav").addClass("slideUp"),$("#menu .line").css({background:"#FFC107",transition:"0.3s"})},onExit:function(){window.scrollTo(0,0),setTimeout(function(){$(window).unbind("scroll")})}}).state("about",{url:"/about",templateUrl:"pages/about.html",data:{pageTitle:"About"},onEnter:function(){$("nav").removeClass("slideUp"),setTimeout(function(){document.querySelector("footer").style.display="block"})},controller:"aboutCtrl"}).state("404",{url:"/404/*path",templateUrl:"pages/404.html",data:{pageTitle:"404 | Not found"},onEnter:function(){$("body").addClass("hideBar"),setTimeout(function(){$("nav").addClass("slideUp")},1e3),$("#rotateAble").hide()},onExit:function(){$("body").removeClass("hideBar"),$("#rotateAble").show()}})}]).controller("mainCtrl",["$scope","$state","$rootScope","$firebaseObject","$http","$toast",function(e,t,o,a,n,r){e.state=t,e.html="html";var s=firebase.database().ref();s.child("projects").orderByChild("time").once("value").then(function(e){}),e.projects=a(s.child("projects")),e.projects.$loaded().then(function(){"projects"==t.current.name&&(document.querySelector("footer").style.display="block"),document.querySelector("md-progress-linear").style.display="none"})["catch"](function(e){}),e.animate=function(){},e.experience={"Languages /":["Javascript","PHP","HTML","CSS"],"Databases /":["Firebase","mySQL"],"Frameworks /":["AngularJS","chartjs","jQuery"],"Tools /":["Bower","NPM","git","gulp","sass","Markdown","wakatime"],"Studying.now()":["ionic","nodejs","Typescript"]},e.fullScreen=function(){};var c="#FFFFFF",i="#2196F3",l="#FFC107";o.changeNavColors=function(e,t){$("nav").css({background:e,transition:"background 0.3s, transform 0.7s cubic-bezier(0.0, 0.0, 0.2, 1)"}),$("footer").css({background:e,transition:"0.3s"}),$("#menu .line").css({background:c,transition:"0.3s"}),$("div#logo").children().eq(1).css({color:t,transition:"0.3s"}),$("div#logo").children().eq(4).css({background:e,transition:" 0.3s"}),$("#sideNav header").css({background:e,transition:"0.3s"}),$("meta[name=theme-color]").attr("content",e)},o.resetNavColors=function(){$("nav").css({background:i,color:c,transition:"background 0.3s, transform 0.7s cubic-bezier(0.0, 0.0, 0.2, 1)"}),$("footer").css({background:i,transition:"0.3s"}),$("#menu .line").css({background:l,transition:"0.3s"}),$("div#logo").children().eq(1).css({color:l,transition:"0.3s"}),$("div#logo").children().eq(4).css({background:i,transition:"background 0.3s, left 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)"}),$("#sideNav header").css({background:i}),$("meta[name=theme-color]").attr("content",i)}}]).controller("previewCtrl",["$scope","$stateParams","$state",function(e,t,o){e.projectName=t.projectName,e.project={},e.projects.$loaded().then(function(e){})["catch"](function(e){}),e.projects.$watch(function(){}),t.projectName||o.go("404"),angular.element(document).ready(function(){function e(){$(window).scroll(function(){var e=$("#bottomSheet").offset().top-$(window).scrollTop();if(1>=e){var t=$("#title").clone();$("#title").detach(),$("body").append(t),$("#title").addClass("top"),$("#contentContainer").css({"margin-top":"60px"})}if(e>1){var t=$("#title").clone();$("#title").detach(),$("#bottomSheet").prepend(t),$("#title").removeClass("top"),$("#contentContainer").css({"margin-top":"0"})}})}window.requestAnimationFrame(e)})}]).controller("aboutCtrl",["$scope","$firebaseArray","$rootScope",function(e,t,o){function a(e){var t=document.getElementById("statChart").getContext("2d");new Chart(t,{type:"pie",data:e,options:{responsive:!0,tooltips:{bodyFontSize:15},title:{display:!0,text:"This years editor statistics",fontSize:15}},animation:{}})}var n=o.database.child("stats/"),r=t(n);r.$loaded().then(function(){for(var e={datasets:[{data:[],backgroundColor:["#f7da4d","#ff7043","#29a8df","#4c70ac","#cc689a","#7a1fa2","#ffcc80","#36A2EB"],borderColor:"white"}],labels:[]},t=0;t<r.length;t++)r[t].percent>2&&(e.datasets[0].data.push(r[t].percent),e.labels.push(r[t].name));a(e)})}]);